# Инструкции по Использованию

## Предварительные Шаги

1. **Структура Проекта:**
   
   ```
   llamator/
   ├── docker/
   │   ├── Dockerfile
   │   ├── jupyter_docker.sh
   │   └── instruction.md
   └── workspace/
       └── (ваши рабочие файлы)
   ```

2. **Создание Локальной Директории `workspace`:**

   Если локальная директория `./workspace` не существует, она будет создана автоматически при запуске контейнера. Нет необходимости создавать её вручную.

## Основные Команды

Скрипт `jupyter_docker.sh` поддерживает следующие команды:

1. **Сборка Docker-образа:**

   Перейдите в директорию `llamator/docker` и выполните:

   ```bash
   ./jupyter_docker.sh build
   ```

   Это создаст Docker-образ с именем по умолчанию `jupyter_img`. По умолчанию Jupyter Notebook будет запускаться на порту `9000`.

2. **Запуск Контейнера:**

   ```bash
   ./jupyter_docker.sh run [порт]
   ```

   - **Параметры:**
     - `[порт]` *(необязательный)*: Порт для доступа к Jupyter Notebook. Если не указан, используется порт `9000`.

   - **Примеры:**

     - Использование порта по умолчанию:

       ```bash
       ./jupyter_docker.sh run
       ```

     - Задание кастомного порта, например `8888`:

       ```bash
       ./jupyter_docker.sh run 8888
       ```

   - **Особенности:**
     - Если локальная директория `./workspace` не существует в текущем каталоге, она будет создана автоматически.
     - Контейнер будет запущен в фоновом режиме.
     - Скрипт автоматически извлечёт токен и выведет полный URL для доступа к Jupyter Notebook, например: `http://localhost:9000/?token=abc123def456ghi789jkl012mno345pqr678stu901vwx234yz`.

3. **Получение URL с токеном:**

   Если вам нужно повторно получить URL с текущим токеном:

   ```bash
   ./jupyter_docker.sh token
   ```

   Вы увидите вывод с URL, который можно открыть в браузере для доступа к Jupyter Notebook.

4. **Добавление Новых Пакетов через Poetry:**

   Например, чтобы добавить пакет `numpy`:

   ```bash
   ./jupyter_docker.sh add numpy
   ```

5. **Доступ к Оболочке Bash Контейнера:**

   Если вам нужно выполнить команды внутри контейнера:

   ```bash
   ./jupyter_docker.sh bash
   ```

6. **Остановка Контейнера:**

   Чтобы остановить работающий контейнер:

   ```bash
   ./jupyter_docker.sh stop
   ```

7. **Удаление Контейнера:**

   Если вам нужно полностью удалить контейнер:

   ```bash
   ./jupyter_docker.sh remove
   ```

## Примеры Использования

### 1. Сборка и Запуск с Портом по Умолчанию

```bash
./jupyter_docker.sh build
./jupyter_docker.sh run
```

- Jupyter Notebook будет доступен по адресу: `http://localhost:9000/?token=your_token_here`

### 2. Сборка и Запуск с Кастомным Портом

```bash
./jupyter_docker.sh build
./jupyter_docker.sh run 8888
```

- Jupyter Notebook будет доступен по адресу: `http://localhost:8888/?token=your_token_here`

### 3. Добавление Пакета `pandas`

```bash
./jupyter_docker.sh add pandas
```

- Пакет `pandas` будет установлен и доступен в вашем проекте.